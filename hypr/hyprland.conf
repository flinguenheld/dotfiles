##################################################################################################################
##################################################################################################### MONITOR ####
# Configure your Display resolution, offset, scale and Monitors here, use `hyprctl monitors` to get the info.
monitor=,preferred,auto,auto
# monitor=,highres,auto,1.5

# 2023/10/14 Do not use a smaller resolution than the screen !!
# Unscale XWayland (Some app as Vivaldi are ugly with a zoom)
xwayland {
  force_zero_scaling = true
}

# toolkit-specific scale
env = GDK_SCALE,2
env = XCURSOR_SIZE,32

##################################################################################################################
#################################################################################################### KEYWORDS ####
$scriptsDir = $HOME/.config/hypr/scripts
$hyprDir = $HOME/.config/hypr

##################################################################################################################
##################################################################################################### SOURCES ####
source=~/.config/hypr/catppuccin.conf
source=~/.config/hypr/keybinds.conf

##################################################################################################################
##################################################################################################### STARTUP ####
exec-once = $scriptsDir/startup.sh
exec-once = $scriptsDir/changeWallpaper.sh
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = $scriptsDir/portal.sh

# Clipboard
exec-once = wl-paste --type text --watch cliphist store #Stores only text data
exec-once = wl-paste --type image --watch cliphist store #Stores only image data

##################################################################################################################
####################################################################################################### SLEEP ####
# with lock - hyprctl
# exec-once = swayidle -w timeout 1200 '$lock' timeout 1200 'hyprctl dispatch dpms off' resume 'hyprctl dispatch dpms on' before-sleep '$lock'

# with lock - swaylock
# exec-once = swayidle -w timeout 1200 'swaylock -f -c 111111' timeout 1200 '' resume '' before-sleep 'swaylock -f -c 111111'

# without lock
# exec-once = swayidle -w  timeout 1200 'hyprctl dispatch dpms off' resume 'hyprctl dispatch dpms on'

##################################################################################################################
#################################################################################################### KEYBOARD ####
input {
  kb_layout = us

  kb_variant = altgr-intl

  follow_mouse = 1
  numlock_by_default = 1

  touchpad {
    natural_scroll = true
    tap-to-click = true
    drag_lock = true
    disable_while_typing = true
  }

  #sensitivity = 0.0 # -1.0 - 1.0, 0 means no modification
}
##################################################################################################################
##################################################################################################### GENERAL ####
general {
  gaps_in = 2
  gaps_out = 0
  border_size = 4

  col.active_border = $blue $sapphire 45deg
  col.inactive_border = $overlay0

  # layout = master
  layout = dwindle

  cursor_inactive_timeout = 2
}
##################################################################################################################
######################################################################################################## MISC ####
misc {
  disable_hyprland_logo = true
  disable_splash_rendering = true
  mouse_move_enables_dpms = true
  no_direct_scanout = true #for fullscreen games
}
##################################################################################################################
################################################################################################## DECORATION ####
decoration {
    rounding = 5 
    blur {
        enabled = true
        size = 3
        passes = 1
    }
}
##################################################################################################################
################################################################################################## ANIMATIONS ####
animations {
  enabled = true

  bezier = myBezier, 0.05, 0.9, 0.1, 1.05

  animation = windows, 1, 3, myBezier
  animation = windowsOut, 1, 3, default, popin 80%
  animation = border, 1, 5, default
  animation = fade, 1, 3, default
  animation = workspaces, 1, 3, default
}
##################################################################################################################
##################################################################################################### DWINDLE ####
dwindle {
  pseudotile = true
  preserve_split = true

  force_split = 2 # Split to the right
}
##################################################################################################################
####################################################################################################### GROUP ####
# Doesn't work on 2023-10-19 - Check later
group {
  groupbar {
    # font_size = 16
    # gradients = false
  }

  # col.active_border = rgba(${c.color_accent_primary_variant}88)
  # col.border_inactive = rgba(${c.color_accent_primary_variant}88)
}
##################################################################################################################
################################################################################################# WINDOW RULE ####
windowrule = float, pavucontrol # V2 doesn't work with pavucontrol
windowrule = size 50% 70%, pavucontrol
windowrule = center, pavucontrol

# windowrule = float, title:^(Vivaldi)
# windowrule = size 50% 70%, title:^(Vivaldi)
# windowrule = center, title:^(Vivaldi)

# windowrule=float,title:^(English)(.*)$

# Example windowrule v2
# windowrulev2 = tile, class:^(Spotify)$
